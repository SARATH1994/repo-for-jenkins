
pipeline {
    
agent  { 
docker
   {   
        image 'maven:alpine' 
        args '-v $HOME/.m2:/root/.m2:z -u root'
        reuseNode true 
     }  
}
          
 environment { 
 
    EMAIL_RECIPIENTS = 'sarathgogineni@outlook.com'

 
 }
 
 stages {
     
stage('Sonar Quality Check')
            
            
            steps {
            
          shmvnonar:sonar -Dsonar.host.url=http://13.234.226.161:8081
             mvn clean install
         
            }
        }
        
stage('nexus Upload')

{

steps {

sh 'mvn clean deploy'

}

}
        
        
        
    }
}

